# Mouse support: enables scrollback with mouse wheel
set -g mouse on

# Increase scrollback buffer (default is 2000 lines)
set -g history-limit 50000

# Status bar: mini cheatsheet always visible
set -g status-right " d:detach  [:scroll  z:zoom  h:help  (prefix: C-b) "
set -g status-right-length 60
set -g status-style "bg=colour236 fg=colour250"
set -g status-right-style "bg=colour24 fg=white bold"

# C-b h: full key reference popup
bind h display-popup -h 26 -w 58 -b rounded -T " claude+ tmux reference " -E "\
echo ''; \
echo '  SESSION'; \
echo '    C-b d        detach (session keeps running)'; \
echo '    C-b \$        rename session'; \
echo '    C-b s        list sessions'; \
echo ''; \
echo '  WINDOWS (tabs)'; \
echo '    C-b c        new window'; \
echo '    C-b n / p    next / previous window'; \
echo '    C-b w        pick window from list'; \
echo ''; \
echo '  SCROLLBACK'; \
echo '    C-b [        enter scroll mode'; \
echo '    mouse wheel  scroll (mouse mode on)'; \
echo '    q / Escape   exit scroll mode'; \
echo ''; \
echo '  PANES'; \
echo '    C-b %        split vertical'; \
echo '    C-b \"        split horizontal'; \
echo '    C-b arrow    move between panes'; \
echo '    C-b z        zoom pane (toggle fullscreen)'; \
echo '    C-b x        close pane'; \
echo ''; \
echo '  FROM OUTSIDE TMUX'; \
echo '    claude+              attach or create session'; \
echo '    tmux attach -t claude+ -d   steal from other machine'; \
echo ''; \
echo '  Press any key to close...'; \
read -n1"
